<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://meyerweb.com/eric/tools/css/reset/reset.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <title>Passport Generator</title>
</head>
<body>
    <div class = "container pt-3">
        <h1 class="text-center pb-3">Password Generator</h1>
        <div class= "container bg-white rounded">
            <div class = "row ml-3 pt-5 p-0">
                <div class = "col-sm-6 m-0 p-0">
                    <h2>Generate a password</h2>
                </div>
            </div>
            <div class = "row ml-3 mr-3 pl-o pr-0 pt-3 pb-3 border-top border-bottom">
                    <div class = "col-sm-12 m-0 p-0">
                    <div class= "container border dashBorder rounded">
                        <p class = "pt-2 text-center" id = "displayText">Your secure password.</p>
                    </div>
                </div>
            </div>
            <div class = "row p-5">
                <div class = "col-sm-6 p-2 text-center">
                    <button class = "btn btn-danger" onclick="onRequestClick()" >Generate Password</button>
                </div>
                <div class = "col-sm-6 p-2 text-center">
                    <button class = "btn btn-danger disabled" id = "copyButton" onclick="onClipboardClick()">Copy to Clipboard</button>
                </div>
            </div>
        </div>
    </div>

    <script>

        var upperList = ["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];
        var lowerList = ["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];    
        var specialList = ["!","@","#","$","%","^","&","*"];

        function onRequestClick()
        {
            var myLength = prompt ("Enter desired password length between 8 and 128 characters.");

            myLength = parseInt(myLength);

            if (myLength > 7 && myLength < 129)
                {   
                    var includeUpper = confirm("Should your password include uppercase characters?");
                    var includeLower = confirm("Should your password include lowercase characters?");
                    var includeSpecial = confirm("Should your password include special characters?");

                    var tempList = ["0","1","2","3","4","5","6","7","8","9"];

                    if (includeUpper) {tempList = tempList.concat(upperList);};
                    if (includeLower) {tempList = tempList.concat(lowerList);};
                    if (includeSpecial) {tempList = tempList.concat(specialList);};

                    var pwString = "";

                    for (i=0; i<myLength; i++)
                    {
                        var newChar = tempList[Math.floor(Math.random() * tempList.length)];
                        pwString = pwString + newChar;
                    }
                    document.getElementById("displayText").innerHTML = pwString;

                    //document.getElementById("copyButton").disabled = false;

                    //pwString.value = text;
                    pwString.select(); 
                    document.execCommand("copy");

                }
            else {alert ("Only numbers between 8 and 128 are excepted. Try again.")}
        }

        function onClipboardClick()
        {
            pwString.value = text;
            pwString.select(); 
            document.execCommand("copy");
        }

    </script>
</body>
</html>